import{g as l,e as B,c as y,a as m,b as u,r as p,F as L,l as N,w as d,n as R,m as V,t as g,k as h,u as E,o as x}from"./index-riO3RcZ6.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"injury-images-page"},Z={class:"page-container"},P={class:"image-buttons"},q={class:"popup-content"},A=["src","alt"],G={class:"image-title"},H={class:"zoom-tip"},J={__name:"InjuryImages",setup(K){const k=E(),i=l(!1),v=l({}),n=l(!1),b=l(null),s=l({x:0,y:0}),a=l({x:0,y:0}),t=l(!1),w=[{name:"头部损伤",src:"/头部损伤.png"},{name:"面部损伤",src:"/面部损伤.png"},{name:"颈部损伤",src:"/颈部损伤.png"},{name:"胸部损伤",src:"/胸部损伤.png"},{name:"腹部损伤",src:"/腹部损伤.png"},{name:"脊柱骨盆损伤",src:"/脊柱骨盆损伤.png"},{name:"肢体与关节损伤",src:"/肢体与关节损伤.png"},{name:"其他损伤",src:"/其他损伤.png"}],C=e=>{v.value=e,i.value=!0,n.value=!1,a.value={x:0,y:0}},M=()=>{n.value=!n.value,a.value={x:0,y:0}},X=B(()=>n.value?{transform:`scale(2) translate(${a.value.x}px, ${a.value.y}px)`,cursor:t.value?"grabbing":"grab"}:{transform:"scale(1)",cursor:"zoom-in"}),Y=e=>{n.value&&(t.value=!0,s.value={x:e.touches[0].clientX,y:e.touches[0].clientY})},I=e=>{if(!t.value)return;e.preventDefault();const o=(e.touches[0].clientX-s.value.x)/2,c=(e.touches[0].clientY-s.value.y)/2;a.value={x:a.value.x+o,y:a.value.y+c},s.value={x:e.touches[0].clientX,y:e.touches[0].clientY}},T=()=>{t.value=!1},z=e=>{n.value&&(t.value=!0,s.value={x:e.clientX,y:e.clientY})},D=e=>{if(!t.value)return;e.preventDefault();const o=(e.clientX-s.value.x)/2,c=(e.clientY-s.value.y)/2;a.value={x:a.value.x+o,y:a.value.y+c},s.value={x:e.clientX,y:e.clientY}},_=()=>{t.value=!1},S=()=>{k.back()};return(e,o)=>{const c=p("van-nav-bar"),f=p("van-button"),j=p("van-popup");return x(),y("div",U,[m(c,{title:"损伤图片","left-arrow":"",onClickLeft:S,fixed:""}),u("div",Z,[u("div",P,[(x(),y(L,null,N(w,(r,$)=>m(f,{key:$,type:"primary",block:"",class:"image-button",onClick:O=>C(r)},{default:d(()=>[h(g(r.name),1)]),_:2},1032,["onClick"])),64))]),m(j,{show:i.value,"onUpdate:show":o[1]||(o[1]=r=>i.value=r),class:"image-popup"},{default:d(()=>[u("div",q,[u("div",{class:R(["image-container",{zoomed:n.value}])},[u("img",{src:v.value.src,alt:v.value.name,class:"injury-image",onClick:M,ref_key:"imageRef",ref:b,style:V(X.value),onTouchstart:Y,onTouchmove:I,onTouchend:T,onMousedown:z,onMousemove:D,onMouseup:_,onMouseleave:_},null,44,A)],2),u("div",G,g(v.value.name),1),u("div",H,g(n.value?"点击图片恢复原始大小":"点击图片放大"),1),m(f,{type:"primary",block:"",onClick:o[0]||(o[0]=r=>i.value=!1)},{default:d(()=>o[2]||(o[2]=[h("关闭")])),_:1,__:[2]})])]),_:1},8,["show"])])])}}},ee=F(J,[["__scopeId","data-v-467aade1"]]);export{ee as default};
